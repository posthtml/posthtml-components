<!DOCTYPE html>
<html lang="en" class="h-100">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>PostHTML X Components</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
      .doc-shadow {
      box-shadow: rgba(0, 0, 0, 0) 0px 0px 0px 0px,
      rgba(0, 0, 0, 0) 0px 0px 0px 0px, rgba(0, 0, 0, 0.1) 0px 1px 3px 0px,
      rgba(0, 0, 0, 0.1) 0px 1px 2px -1px !important;
    }
    </style>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.6.0/styles/github.css">
    <style>
      @media only screen and (min-width: 1200px) {
      .toc {
        position: sticky;
        top: 1rem;
        right: 0;
        z-index: 2;
        overflow-y: auto;
      }
    }

    h1,
    h2,
    h3 {
      margin-top: 3rem;
      margin-bottom: 1.5rem;
    }

    .header-anchor,
    h1 .header-anchor,
    h2 .header-anchor,
    h3 .header-anchor {
      color: inherit;
      text-decoration: none;
    }

    @media only screen and (min-width: 1200px) {
      .header-anchor {
        margin-left: -28px;
        line-height: 1;
        color: inherit;
        text-decoration: none;
        visibility: hidden;
      }

      h1 .header-anchor {
        margin-left: -34px;
      }

      h3 .header-anchor {
        margin-left: -24px;
      }

      .header-anchor:hover,
      h1:hover .header-anchor,
      h2:hover .header-anchor,
      h3:hover .header-anchor {
        visibility: visible;
      }
    }

    #header-toc .nav-link {
      color: #6c757d;
      padding: 0;
      margin-bottom: 0.5rem;
    }

    #header-toc .nav-link.active {
      color: #212529;
      font-weight: bold;
    }

    #header-toc .nav .nav-item > .nav {
      padding-left: 1.5rem;
    }

    #header-toc .nav .nav-item > .nav .nav-item > .nav {
      padding-left: 3rem;
    }
    </style>
  </head>
  <body class="d-flex flex-column h-100 bg-light">
    <header class="py-3 mb-4">
      <div class="container-lg">
        <div class="d-flex flex-wrap align-items-center justify-content-center justify-content-md-between">
          <a href="index.html" class="d-flex align-items-center col-md-3 mb-2 mb-md-0 text-dark text-decoration-none h5">&lt;x-components/&gt;</a>
          <ul class="nav col-12 col-md-auto mb-2 justify-content-center mb-md-0">
            <li>
              <a class="nav-link px-2 link-dark" href="index.html">Home</a>
            </li>
            <li>
              <a class="nav-link px-2 link-dark" href="docs.html">Docs</a>
            </li>
            <li>
              <a class="nav-link px-2 link-dark" href="https://github.com/posthtml" target="_blank">PostHTML</a>
            </li>
            <li>
              <a class="nav-link px-2 link-dark d-block d-md-none" href="https://www.npmjs.com/package/posthtml-component" target="_blank">NPM</a>
            </li>
            <li>
              <a class="nav-link px-2 link-dark d-block d-md-none" href="https://github.com/thewebartisan7/posthtml-components" target="_blank">GitHub</a>
            </li>
          </ul>
          <div class="col-md-3 text-end d-none d-md-block">
            <a class="btn btn-light bg-white doc-shadow border-white me-3" href="https://www.npmjs.com/package/posthtml-component" target="_blank">NPM</a>
            <a class="btn btn-light bg-white doc-shadow border-white" href="https://github.com/thewebartisan7/posthtml-components" target="_blank">GitHub</a>
          </div>
        </div>
      </div>
    </header>
    <main class="flex-shrink-0">
      <div class="container-lg">
        <div class="row">
          <div class="col-12 col-xl-3 order-1 order-xl-2 toc">
            <div class="mt-3 mb-5 my-lg-0 ps-xl-3 mb-lg-5 text-muted">
              <strong class="d-none d-xl-block h6 my-2">On this page</strong>
              <hr class="d-none d-xl-block invisible my-2">
              <div class="collapse d-xl-block" id="collapse-toc"></div>
            </div>
          </div>
          <div class="col-12 col-xl-9 order-2 order-xl-1">
            <nav id="header-toc" class="h-100 flex-column align-items-stretch ps-4 p-3 bg-white rounded-3 doc-shadow">
              <ul class="nav flex-column">
                <li class="nav-item">
                  <a class="nav-link" href="#installation">Installation</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="#introduction">Introduction</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="#basic-example">Basic example</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="#options">Options</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="#features">Features</a>
                  <ul class="nav flex-column">
                    <li class="nav-item">
                      <a class="nav-link" href="#tag-names-and-x-tags">Tag names and x-tags</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link" href="#multiple-folders">Multiple folders</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link" href="#namespaces">Namespaces</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link" href="#slots">Slots</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link" href="#stacks">Stacks</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link" href="#props">Props</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link" href="#attributes">Attributes</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link" href="#advanced-attributes-configurations">Advanced attributes configurations</a>
                    </li>
                  </ul>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="#examples">Examples</a>
                  <ul class="nav flex-column">
                    <li class="nav-item">
                      <a class="nav-link" href="#using-slots">Using slots</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link" href="#splitting-component-in-small-component">Splitting component in small component</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link" href="#combine-slots-and-small-component">Combine slots and small component</a>
                    </li>
                  </ul>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="#migration">Migration</a>
                </li>
              </ul>
            </nav>
            <h2 id="installation" tabindex="-1">
              <a class="header-anchor" href="#installation">#</a>
              Installation
            </h2>
            <pre><code class="language-bash">npm i -D posthtml-component</code></pre>
            <h2 id="introduction" tabindex="-1">
              <a class="header-anchor" href="#introduction">#</a>
              Introduction
            </h2>
            <p>
              This PostHTML plugin provides an HTML-friendly syntax for write components in your templates.
If you are familiar with Blade, React, Vue or similar, you will find familiar syntax as this plugin is inspired by them.
See below a basic example, as code is worth a thousand words.
            </p>
            <p>
              <strong>
                See also the first
                <a href="https://github.com/thewebartisan7/posthtml-bootstrap-ui">PostHTML Bootstrap UI</a>
                using this plugin and check also the
                <a href="https://github.com/thewebartisan7/posthtml-bootstrap-ui-starter">starter template here</a>
                .
              </strong>
            </p>
            <h2 id="basic-example" tabindex="-1">
              <a class="header-anchor" href="#basic-example">#</a>
              Basic example
            </h2>
            <p>Create the component:</p>
            <pre><code class="language-html">&lt;!-- src/button.html --&gt;
&lt;button type=&quot;button&quot; class=&quot;btn&quot;&gt;
  &lt;yield&gt;&lt;/yield&gt;
&lt;/button&gt;</code></pre>
            <p>Use the component:</p>
            <pre><code class="language-html">&lt;!-- src/index.html --&gt;
&lt;html&gt;
&lt;body&gt;
  &lt;x-button type=&quot;submit&quot; class=&quot;btn-primary&quot;&gt;Submit&lt;/x-button&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
            <p>Init PostHTML:</p>
            <pre><code class="language-js">// index.js
const { readFileSync, writeFileSync } = require('fs')

const posthtml = require('posthtml')
const components = require('posthtml-components')

posthtml(components({ root: './src' }))
  .process(readFileSync('src/index.html', 'utf8'))
  .then((result) =&gt; writeFileSync('dist/index.html', result.html, 'utf8'))</code></pre>
            <p>Result:</p>
            <pre><code class="language-html">&lt;!-- dist/index.html --&gt;
&lt;html&gt;
&lt;body&gt;
  &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Submit&lt;/button&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
            <p>
              You may notice that the
              <code>src/button.html</code>
              component has a
              <code>type</code>
              and
              <code>class</code>
              attribute, and when we use the component in
              <code>src/index.html</code>
              we pass
              <code>type</code>
              and
              <code>class</code>
              attribute.
The result is that
              <code>type</code>
              is override, and
              <code>class</code>
              is merged.
            </p>
            <p>
              By default
              <code>class</code>
              and
              <code>style</code>
              attributes are merged, while all others attribute are override.
You can also override
              <code>class</code>
              and
              <code>style</code>
              attributes by prepending
              <code>override:</code>
              to the class attribute. Example:
            </p>
            <pre><code class="language-html">&lt;x-button override:class=&quot;btn-custom&quot;&gt;Submit&lt;/x-button&gt;

&lt;!-- Output --&gt;
&lt;button type=&quot;button&quot; class=&quot;btn-custom&quot;&gt;Submit&lt;/button&gt;</code></pre>
            <p>
              All attributes you pass to the component will be added to the first node of your component or to the node with an attribute names
              <code>attributes</code>
              ,
and only if they are not defined as
              <code>props</code>
              via
              <code>&lt;script props&gt;</code>
              or if they are not in the following file
              <a href="https://github.com/thewebartisan7/posthtml-components/blob/main/src/valid-attributes.js">valid-attributes.js</a>
              .
You can also manage valid attributes via options.
More details on this in
              <a href="#attributes">Attributes</a>
              section.
            </p>
            <p>
              The
              <code>&lt;yield&gt;</code>
              tag is where your content will be injected.
In next section you can find all available options and then examples for each feature.
            </p>
            <p>
              See also the
              <code>docs-src</code>
              folder where you can find more examples.
You can run
              <code>npm run build</code>
              to compile them.
            </p>
            <h2 id="options" tabindex="-1">
              <a class="header-anchor" href="#options">#</a>
              Options
            </h2>
            <table>
              <thead>
                <tr>
                  <th style="text-align:center">Option</th>
                  <th style="text-align:center">Default</th>
                  <th style="text-align:left">Description</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td style="text-align:center">
                    <strong>root</strong>
                  </td>
                  <td style="text-align:center">
                    <code>'./'</code>
                  </td>
                  <td style="text-align:left">String value as root path for components lookup.</td>
                </tr>
                <tr>
                  <td style="text-align:center">
                    <strong>folders</strong>
                  </td>
                  <td style="text-align:center">
                    <code>['']</code>
                  </td>
                  <td style="text-align:left">
                    Array of additional multi folders path from
                    <code>options.root</code>
                    or any defined namespaces root, fallback or custom.
                  </td>
                </tr>
                <tr>
                  <td style="text-align:center">
                    <strong>tagPrefix</strong>
                  </td>
                  <td style="text-align:center">
                    <code>x-</code>
                  </td>
                  <td style="text-align:left">String for tag prefix. The plugin will use RegExp with this string.</td>
                </tr>
                <tr>
                  <td style="text-align:center">
                    <strong>tag</strong>
                  </td>
                  <td style="text-align:center">
                    <code>false</code>
                  </td>
                  <td style="text-align:left">
                    String or boolean value for component tag. Use this with
                    <code>options.attribute</code>
                    . Boolean only false.
                  </td>
                </tr>
                <tr>
                  <td style="text-align:center">
                    <strong>attribute</strong>
                  </td>
                  <td style="text-align:center">
                    <code>src</code>
                  </td>
                  <td style="text-align:left">String value for component attribute for set path.</td>
                </tr>
                <tr>
                  <td style="text-align:center">
                    <strong>namespaces</strong>
                  </td>
                  <td style="text-align:center">
                    <code>[]</code>
                  </td>
                  <td style="text-align:left">Array of namespace's root path, fallback path and custom path for override.</td>
                </tr>
                <tr>
                  <td style="text-align:center">
                    <strong>namespaceSeparator</strong>
                  </td>
                  <td style="text-align:center">
                    <code>::</code>
                  </td>
                  <td style="text-align:left">
                    String value for namespace separator to be used with tag name. Example
                    <code>&lt;x-namespace::button&gt;</code>
                  </td>
                </tr>
                <tr>
                  <td style="text-align:center">
                    <strong>fileExtension</strong>
                  </td>
                  <td style="text-align:center">
                    <code>html</code>
                  </td>
                  <td style="text-align:left">String value for file extension of the components used for retrieve x-tag file.</td>
                </tr>
                <tr>
                  <td style="text-align:center">
                    <strong>yield</strong>
                  </td>
                  <td style="text-align:center">
                    <code>yield</code>
                  </td>
                  <td style="text-align:left">
                    String value for
                    <code>&lt;yield&gt;</code>
                    tag name. Where main content of component is injected.
                  </td>
                </tr>
                <tr>
                  <td style="text-align:center">
                    <strong>slot</strong>
                  </td>
                  <td style="text-align:center">
                    <code>slot</code>
                  </td>
                  <td style="text-align:left">
                    String value for
                    <code>&lt;slot&gt;</code>
                    tag name. Used with RegExp by appending
                    <code>:</code>
                    (example
                    <code>&lt;slot:slot-name&gt;</code>
                    ).
                  </td>
                </tr>
                <tr>
                  <td style="text-align:center">
                    <strong>fill</strong>
                  </td>
                  <td style="text-align:center">
                    <code>fill</code>
                  </td>
                  <td style="text-align:left">
                    String value for
                    <code>&lt;fill&gt;</code>
                    tag name. Used with RegExp by appending
                    <code>:</code>
                    (example
                    <code>&lt;fill:slot-name&gt;</code>
                    ).
                  </td>
                </tr>
                <tr>
                  <td style="text-align:center">
                    <strong>slotSeparator</strong>
                  </td>
                  <td style="text-align:center">
                    <code>:</code>
                  </td>
                  <td style="text-align:left">
                    String value used for separate
                    <code>&lt;slot&gt;</code>
                    and
                    <code>&lt;fill&gt;</code>
                    tag from their names.
                  </td>
                </tr>
                <tr>
                  <td style="text-align:center">
                    <strong>push</strong>
                  </td>
                  <td style="text-align:center">
                    <code>push</code>
                  </td>
                  <td style="text-align:left">
                    String value for
                    <code>&lt;push&gt;</code>
                    tag name.
                  </td>
                </tr>
                <tr>
                  <td style="text-align:center">
                    <strong>stack</strong>
                  </td>
                  <td style="text-align:center">
                    <code>stack</code>
                  </td>
                  <td style="text-align:left">
                    String value for
                    <code>&lt;stack&gt;</code>
                    tag name.
                  </td>
                </tr>
                <tr>
                  <td style="text-align:center">
                    <strong>propsScriptAttribute</strong>
                  </td>
                  <td style="text-align:center">
                    <code>props</code>
                  </td>
                  <td style="text-align:left">
                    String value used as attribute in
                    <code>&lt;script props&gt;</code>
                    parsed by the plugin to retrieve props of the component.
                  </td>
                </tr>
                <tr>
                  <td style="text-align:center">
                    <strong>propsContext</strong>
                  </td>
                  <td style="text-align:center">
                    <code>props</code>
                  </td>
                  <td style="text-align:left">
                    String value used as object name inside the script to process process before passed to the component.
                  </td>
                </tr>
                <tr>
                  <td style="text-align:center">
                    <strong>propsAttribute</strong>
                  </td>
                  <td style="text-align:center">
                    <code>props</code>
                  </td>
                  <td style="text-align:left">String value for props attribute to define props as JSON.</td>
                </tr>
                <tr>
                  <td style="text-align:center">
                    <strong>propsSlot</strong>
                  </td>
                  <td style="text-align:center">
                    <code>props</code>
                  </td>
                  <td style="text-align:left">
                    String value used to retrieve the props passed to slot via
                    <code>$slots.slotName.props</code>
                    .
                  </td>
                </tr>
                <tr>
                  <td style="text-align:center">
                    <strong>expressions</strong>
                  </td>
                  <td style="text-align:center">
                    <code>{}</code>
                  </td>
                  <td style="text-align:left">
                    Object to configure
                    <code>posthtml-expressions</code>
                    . You can pre-set locals or customize the delimiters for example.
                  </td>
                </tr>
                <tr>
                  <td style="text-align:center">
                    <strong>plugins</strong>
                  </td>
                  <td style="text-align:center">
                    <code>[]</code>
                  </td>
                  <td style="text-align:left">PostHTML plugins to apply for every parsed components.</td>
                </tr>
                <tr>
                  <td style="text-align:center">
                    <strong>matcher</strong>
                  </td>
                  <td style="text-align:center">
                    <code>[{tag: options.tagPrefix}]</code>
                  </td>
                  <td style="text-align:left">Array of object used to match the tags.</td>
                </tr>
                <tr>
                  <td style="text-align:center">
                    <strong>attrsParserRules</strong>
                  </td>
                  <td style="text-align:center">
                    <code>{}</code>
                  </td>
                  <td style="text-align:left">Additional rules for attributes parser plugin.</td>
                </tr>
                <tr>
                  <td style="text-align:center">
                    <strong>strict</strong>
                  </td>
                  <td style="text-align:center">
                    <code>true</code>
                  </td>
                  <td style="text-align:left">Boolean value for enable or disable throw an exception.</td>
                </tr>
                <tr>
                  <td style="text-align:center">
                    <strong>mergeCustomizer</strong>
                  </td>
                  <td style="text-align:center">
                    <code>function</code>
                  </td>
                  <td style="text-align:left">
                    Function callback passed to lodash
                    <code>mergeWith</code>
                    for merge
                    <code>options.expressions.locals</code>
                    and props passed via attribute
                    <code>props</code>
                    .
                  </td>
                </tr>
                <tr>
                  <td style="text-align:center">
                    <strong>utilities</strong>
                  </td>
                  <td style="text-align:center">
                    <code>{merge: _.mergeWith, template: _.template}</code>
                  </td>
                  <td style="text-align:left">
                    Object of utilities methods to be passed to
                    <code>&lt;script props&gt;</code>
                    . By default lodash
                    <code>mergeWith</code>
                    and
                    <code>template</code>
                    .
                  </td>
                </tr>
                <tr>
                  <td style="text-align:center">
                    <strong>elementAttributes</strong>
                  </td>
                  <td style="text-align:center">
                    <code>{}</code>
                  </td>
                  <td style="text-align:left">An object with tag name and a function modifier of valid-attributes.js.</td>
                </tr>
                <tr>
                  <td style="text-align:center">
                    <strong>safelistAttributes</strong>
                  </td>
                  <td style="text-align:center">
                    <code>['data-*']</code>
                  </td>
                  <td style="text-align:left">An array of attributes name to be added to default valid attributes.</td>
                </tr>
                <tr>
                  <td style="text-align:center">
                    <strong>blacklistAttributes</strong>
                  </td>
                  <td style="text-align:center">
                    <code>[]</code>
                  </td>
                  <td style="text-align:left">An array of attributes name to be removed from default valid attributes.</td>
                </tr>
              </tbody>
            </table>
            <h2 id="features" tabindex="-1">
              <a class="header-anchor" href="#features">#</a>
              Features
            </h2>
            <h3 id="tag-names-and-x-tags" tabindex="-1">
              <a class="header-anchor" href="#tag-names-and-x-tags">#</a>
              Tag names and x-tags
            </h3>
            <p>
              You can use the components in multiple ways, or also a combination of them.
Like with
              <code>posthtml-extend</code>
              and
              <code>posthtml-modules</code>
              you can define a tag name in combination with an attribute name for set the path of the components.
            </p>
            <p>
              For example for the same button component
              <code>src/button.html</code>
              in the basic example we can define the tag name and attribute name and then use it in this way:
            </p>
            <pre><code class="language-html">&lt;!-- src/index.html --&gt;
&lt;html&gt;
&lt;body&gt;
  &lt;component src=&quot;button.html&quot;&gt;Submit&lt;/component&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
            <p>Init PostHTML:</p>
            <pre><code class="language-js">// index.js

require('posthtml')(require('posthtml-components')({ root: './src', tagName: 'component', attribute: 'src' }))
  .process(/* ... */)
  .then(/* ... */)</code></pre>
            <p>
              If you need more control over how to match the tags, you can pass directly an array of matcher or single object via
              <code>options.matcher</code>
              like shown in below example:
            </p>
            <pre><code class="language-js">// index.js

const options = { 
  root: './src', 
  matcher: [{tag: 'a-tag'}, {tag: 'another-one'}, {tag: new RegExp(`^app-`, 'i')}] 
};

require('posthtml')(require('posthtml-components')(options))
  .process(/* ... */)
  .then(/* ... */)</code></pre>
            <p>
              With
              <code>posthtml-components</code>
              you don't need to specify the path name when you are using
              <code>x-tag-name</code>
              syntax. See below example.
            </p>
            <p>Setup PostHTML:</p>
            <pre><code class="language-js">// index.js

const options = { 
  root: './src', 
  tagPrefix: 'x-'
};

require('posthtml')(require('posthtml-components')(options))
  .process(/* ... */)
  .then(/* ... */)</code></pre>
            <p>Use:</p>
            <pre><code class="language-html">&lt;!-- src/index.html --&gt;
&lt;html&gt;
&lt;body&gt;
  &lt;x-button&gt;Submit&lt;/x-button&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
            <p>
              If your components are in a subfolder then you can use
              <code>dot</code>
              to access it, example:
            </p>
            <pre><code class="language-html">&lt;!-- Supposing your button component is located in ./src/components/forms/button.html --&gt;
&lt;x-forms.button&gt;Submit&lt;/x-forms.button&gt;</code></pre>
            <p>
              If your components are in a sub-folder with multiple files, then for avoid typing the main file you can use
              <code>index.html</code>
              without specify it.
Please see below example to understand better.
            </p>
            <pre><code class="language-html">&lt;!-- Supposing your modal component is located in ./src/components/modals/index.html --&gt;
&lt;x-modal.index&gt;Submit&lt;/x-modal.index&gt;

&lt;!-- You can omit &quot;index&quot; part since the file is named &quot;index.html&quot; --&gt;
&lt;x-modal&gt;Submit&lt;/x-modal&gt;</code></pre>
            <h3 id="multiple-folders" tabindex="-1">
              <a class="header-anchor" href="#multiple-folders">#</a>
              Multiple folders
            </h3>
            <p>
              You have full control where to place your components. Once you set the base root path of your components, you can then set multiple folders.
For example let's suppose your main root is
              <code>./src</code>
              and then you have several folders where you have your components, for example
              <code>./src/components</code>
              and
              <code>./src/layouts</code>
              .
You can set up the plugin like below:
            </p>
            <pre><code class="language-js">// index.js
const options = { 
  root: './src', 
  folders: ['components', 'layouts'] 
};

require('posthtml')(require('posthtml-components')(options))
  .process(/* ... */)
  .then(/* ... */)</code></pre>
            <h3 id="namespaces" tabindex="-1">
              <a class="header-anchor" href="#namespaces">#</a>
              Namespaces
            </h3>
            <p>
              With namespaces, you can define a top level root path to your components like shown in below example.
It can be useful for handle custom theme, where you define a specific top level root, with fallback root when component it's not found,
and a custom root for override, something like a child theme.
            </p>
            <p>Thanks to namespace, you can create folders structure like below:</p>
            <ul>
              <li>
                <code>src</code>
                (base root folder)
                <ul>
                  <li>
                    <code>components</code>
                    (folder for components like modal, button, etc.)
                  </li>
                  <li>
                    <code>layouts</code>
                    (folder for layout components like base layout, header, footer, etc.)
                  </li>
                  <li>
                    <code>theme-dark</code>
                    (namespace folder for theme-dark)
                    <ul>
                      <li>
                        <code>components</code>
                        (folder for components for theme dark)
                      </li>
                      <li>
                        <code>layouts</code>
                        (folder for layout components for dark theme)
                      </li>
                    </ul>
                  </li>
                  <li>
                    <code>theme-light</code>
                    (namespace folder for theme-light)
                    <ul>
                      <li>
                        <code>components</code>
                        (folder for components for light theme)
                      </li>
                      <li>
                        <code>layouts</code>
                        (folder for layout components for dark theme)
                      </li>
                    </ul>
                  </li>
                  <li>
                    <code>custom</code>
                    (custom folder for override your namespace themes)
                    <ul>
                      <li>
                        <code>theme-dark</code>
                        (custom folder for override dark theme)
                        <ul>
                          <li>
                            <code>components</code>
                            (folder for override components of theme dark)
                          </li>
                          <li>
                            <code>layouts</code>
                            (folder for override layout components of dark theme)
                          </li>
                        </ul>
                      </li>
                      <li>
                        <code>theme-light</code>
                        (custom folder for override light theme)
                        <ul>
                          <li>
                            <code>components</code>
                            (folder for override components of theme dark)
                          </li>
                          <li>
                            <code>layouts</code>
                            (folder for override layout components of dark theme)
                          </li>
                        </ul>
                      </li>
                    </ul>
                  </li>
                </ul>
              </li>
            </ul>
            <p>And the options would be like:</p>
            <pre><code class="language-js">// index.js
const options = {
  // Main root for component without namespace
  root: './src',
  // Folders is always appended in 'root' or any defined namespace's folders (base, fallback or custom)
  folders: ['components', 'layouts'],
  namespaces: [{
    // Namespace name will be prepend to tag name (example &lt;x-theme-dark::button&gt;)
    name: 'theme-dark',
    // Base root of the namespace
    root: './src/theme-dark',
    // Fallback root when a component it's not found in namespace
    fallback: './src',
    // Custom root for override, the lookup happen first here
    custom: './src/custom/theme-dark'
  }, {
    // Light theme
    name: 'theme-light',
    root: './src/theme-light',
    fallback: './src',
    custom: './src/custom/theme-light'
  }, {
    /* ... */
  }]
};</code></pre>
            <p>Use the component namespace:</p>
            <pre><code class="language-html">&lt;!-- src/index.html --&gt;
&lt;html&gt;
&lt;body&gt;
  &lt;x-theme-dark::button&gt;Submit&lt;/theme-dark::button&gt;
  &lt;x-theme-light::button&gt;Submit&lt;/theme-light::button&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
            <p>
              Of course, you can change this folder structure as you prefer according to your project requirements.
            </p>
            <h3 id="slots" tabindex="-1">
              <a class="header-anchor" href="#slots">#</a>
              Slots
            </h3>
            <p>
              Your components can inject code in specific slots you define, and then you can fill this content when you use the component.
Find below a simple example.
            </p>
            <p>Create the component:</p>
            <pre><code class="language-html">&lt;!-- src/modal.html --&gt;
&lt;div class=&quot;modal&quot;&gt;
  &lt;div class=&quot;modal-header&quot;&gt;
    &lt;slot:header&gt;&lt;/slot:header&gt;
  &lt;/div&gt;
  &lt;div class=&quot;modal-body&quot;&gt;
    &lt;slot:body&gt;&lt;/slot:body&gt;
  &lt;/div&gt;
  &lt;div class=&quot;modal-footer&quot;&gt;
    &lt;slot:footer&gt;&lt;/slot:footer&gt;
  &lt;/div&gt;
&lt;/div&gt;</code></pre>
            <p>Use the component:</p>
            <pre><code class="language-html">&lt;!-- src/index.html --&gt;
&lt;x-modal&gt;
  &lt;fill:header&gt;Header content&lt;/fill:header&gt;
  &lt;fill:body&gt;Body content&lt;/fill:body&gt;
  &lt;fill:footer&gt;Footer content&lt;/fill:footer&gt;
&lt;/x-modal&gt;</code></pre>
            <p>Result:</p>
            <pre><code class="language-html">&lt;!-- dist/index.html --&gt;
&lt;div class=&quot;modal&quot;&gt;
  &lt;div class=&quot;modal-header&quot;&gt;
    Header content
  &lt;/div&gt;
  &lt;div class=&quot;modal-body&quot;&gt;
    Body content
  &lt;/div&gt;
  &lt;div class=&quot;modal-footer&quot;&gt;
    Footer content
  &lt;/div&gt;
&lt;/div&gt;</code></pre>
            <p>
              By default, the content is replaced, but you can also prepend or append the content, or keep the default content by not filling the slot.
            </p>
            <p>Add some default content in the component:</p>
            <pre><code class="language-html">&lt;!-- src/modal.html --&gt;
&lt;div class=&quot;modal&quot;&gt;
  &lt;div class=&quot;modal-header&quot;&gt;
    &lt;slot:header&gt;Default header&lt;/slot:header&gt;
  &lt;/div&gt;
  &lt;div class=&quot;modal-body&quot;&gt;
    &lt;slot:body&gt;content&lt;/slot:body&gt;
  &lt;/div&gt;
  &lt;div class=&quot;modal-footer&quot;&gt;
    &lt;slot:footer&gt;Footer&lt;/slot:footer&gt;
  &lt;/div&gt;
&lt;/div&gt;</code></pre>
            <pre><code class="language-html">&lt;!-- src/index.html --&gt;
&lt;x-modal&gt;
  &lt;fill:body prepend&gt;Prepend body&lt;/fill:body&gt;
  &lt;fill:footer append&gt;content&lt;/fill:footer&gt;
&lt;/x-modal&gt;</code></pre>
            <p>Result:</p>
            <pre><code class="language-html">&lt;!-- dist/index.html --&gt;
&lt;div class=&quot;modal&quot;&gt;
  &lt;div class=&quot;modal-header&quot;&gt;
    Default header
  &lt;/div&gt;
  &lt;div class=&quot;modal-body&quot;&gt;
    Prepend body content
  &lt;/div&gt;
  &lt;div class=&quot;modal-footer&quot;&gt;
    Footer content
  &lt;/div&gt;
&lt;/div&gt;</code></pre>
            <h3 id="stacks" tabindex="-1">
              <a class="header-anchor" href="#stacks">#</a>
              Stacks
            </h3>
            <p>
              You can push content to named stacks which can be rendered somewhere else in another place. This can be particularly useful for specifying any JavaScript or CSS required by your components.
            </p>
            <p>
              First of all define a
              <code>&lt;stack&gt;</code>
              anywhere in your code, for example:
            </p>
            <pre><code class="language-html">&lt;!-- src/index.html --&gt;
&lt;html&gt;
&lt;head&gt;
&lt;stack name=&quot;styles&quot;&gt;&lt;/stack&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;x-modal&gt;
  &lt;fill:header&gt;Header content&lt;/fill:header&gt;
  &lt;fill:body&gt;Body content&lt;/fill:body&gt;
  &lt;fill:footer&gt;Footer content&lt;/fill:footer&gt;
&lt;/x-modal&gt;
  
&lt;stack name=&quot;scripts&quot;&gt;&lt;/stack&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
            <p>
              Then in modal components, or any other child components, you can push content to this stack.
            </p>
            <pre><code class="language-html">&lt;!-- src/modal.html --&gt;
&lt;div class=&quot;modal&quot;&gt;
  &lt;div class=&quot;modal-header&quot;&gt;
    &lt;slot:header&gt;&lt;/slot:header&gt;
  &lt;/div&gt;
  &lt;div class=&quot;modal-body&quot;&gt;
    &lt;slot:body&gt;&lt;/slot:body&gt;
  &lt;/div&gt;
  &lt;div class=&quot;modal-footer&quot;&gt;
    &lt;slot:footer&gt;&lt;/slot:footer&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;push name=&quot;styles&quot;&gt;
  &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;
&lt;/push&gt;

&lt;push name=&quot;scripts&quot;&gt;
  &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;
&lt;/push&gt;</code></pre>
            <p>The output will be:</p>
            <pre><code class="language-html">&lt;!-- dist/index.html --&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div class=&quot;modal&quot;&gt;
  &lt;div class=&quot;modal-header&quot;&gt;
    Header content
  &lt;/div&gt;
  &lt;div class=&quot;modal-body&quot;&gt;
    Body content
  &lt;/div&gt;
  &lt;div class=&quot;modal-footer&quot;&gt;
    Footer content
  &lt;/div&gt;
&lt;/div&gt;
&lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
            <p>
              The
              <code>once</code>
              attribute allows you to push content only once per rendering cycle. For example, if you are rendering a given component within a loop, you may wish to only push the JavaScript and CSS the first time the component is rendered.
            </p>
            <p>Example.</p>
            <pre><code class="language-html">&lt;!-- src/modal.html --&gt;
&lt;div class=&quot;modal&quot;&gt;
  &lt;!-- ... --&gt;
&lt;/div&gt;

&lt;!-- The push content will be pushed only once in the stack --&gt;

&lt;push name=&quot;styles&quot; once&gt;
  &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;
&lt;/push&gt;

&lt;push name=&quot;scripts&quot; once&gt;
  &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;
&lt;/push&gt;</code></pre>
            <p>
              By default, the content is pushed in the stack in the given order.
If you would like to prepend content onto the beginning of a stack, you should use the
              <code>prepend</code>
              attribute:
            </p>
            <pre><code class="language-html">&lt;push name=&quot;scripts&quot;&gt;
  &lt;!-- This will be second --&gt;
  &lt;script src=&quot;/example.js&quot;&gt;&lt;/script&gt;
&lt;/push&gt;

&lt;!-- Later... --&gt;

&lt;push name=&quot;scripts&quot; prepend&gt;
  &lt;!-- This will be first --&gt;
  &lt;script src=&quot;/example-2.js&quot;&gt;&lt;/script&gt;
&lt;/push&gt;</code></pre>
            <h3 id="props" tabindex="-1">
              <a class="header-anchor" href="#props">#</a>
              Props
            </h3>
            <p>
              Behind the
              <code>props</code>
              there is powerful
              <a href="https://github.com/posthtml/posthtml-expressions">posthtml-expressions</a>
              plugin, with feature to pass
              <code>props</code>
              (locals) via attributes and manipulate them via
              <code>&lt;script props&gt;</code>
              .
            </p>
            <p>Let's see how it works with a few examples starting with a basic one.</p>
            <p>Create the component:</p>
            <pre><code class="language-html">&lt;!-- src/my-component.html --&gt;
&lt;script props&gt;
  module.exports = {
    prop: props.prop || 'Default prop value'
  }
&lt;/script&gt;
&lt;div&gt;
  {{ prop }}
&lt;/div&gt;</code></pre>
            <p>Use:</p>
            <pre><code class="language-html">&lt;x-my-component prop=&quot;Hello world!&quot;&gt;&lt;/x-my-component&gt;</code></pre>
            <p>The output will be:</p>
            <pre><code class="language-html">&lt;div&gt;
  Hello world!
&lt;/div&gt;</code></pre>
            <p>
              Without passing
              <code>prop</code>
              via attribute then the output would be
              <code>Default prop value</code>
              , as shown below.
            </p>
            <p>Use component without passing prop:</p>
            <pre><code class="language-html">&lt;x-my-component&gt;&lt;/x-my-component&gt;</code></pre>
            <p>The output will be:</p>
            <pre><code class="language-html">&lt;div&gt;
  Default prop value
&lt;/div&gt;</code></pre>
            <p>
              In the
              <code>&lt;script props&gt;</code>
              you have access to passed props via object
              <code>props</code>
              , and you can add any logic you need inside it.
            </p>
            <p>Create the component:</p>
            <pre><code class="language-html">&lt;!-- src/modal.html --&gt;
&lt;script props&gt;
  module.exports = {
    title: props.title || 'Default title', 
    size: props.size ? `modal-${props.size}` : '', 
    items: Array.isArray(props.items) ? props.items.concat(['first', 'second']) : ['first', 'second']
  }
&lt;/script&gt;
&lt;div class=&quot;modal {{ size }}&quot;&gt;
  &lt;div class=&quot;modal-header&quot;&gt;
    {{ title }}
  &lt;/div&gt;
  &lt;div class=&quot;modal-body&quot;&gt;
    &lt;each loop=&quot;item in items&quot;&gt;&lt;span&gt;{{ item }}&lt;/span&gt;&lt;/each&gt;
  &lt;/div&gt;
&lt;/div&gt;</code></pre>
            <p>Use:</p>
            <pre><code class="language-html">&lt;x-modal size=&quot;xl&quot; title=&quot;My modal title&quot; items='[&quot;third&quot;, &quot;fourth&quot;]' class=&quot;modal-custom&quot;&gt;&lt;/x-modal&gt;</code></pre>
            <p>The output will be:</p>
            <pre><code class="language-html">&lt;div class=&quot;modal modal-custom modal-xl&quot;&gt;
  &lt;div class=&quot;modal-header&quot;&gt;
    My modal title
  &lt;/div&gt;
  &lt;div class=&quot;modal-body&quot;&gt;
    &lt;span&gt;first&lt;/span&gt;
    &lt;span&gt;second&lt;/span&gt;
    &lt;span&gt;third&lt;/span&gt;
    &lt;span&gt;fourth&lt;/span&gt;
  &lt;/div&gt;
&lt;/div&gt;</code></pre>
            <p>
              You can also notice how the
              <code>class</code>
              attribute is merged with
              <code>class</code>
              attribute of the first node. In the next section you will know more about this.
            </p>
            <p>
              You can change how attributes are merged with global props defined via options by passing a callback function used by lodash method
              <a href="https://lodash.com/docs/4.17.15#mergeWith">mergeWith</a>
              .
            </p>
            <p>
              By default, all props are scoped to the component, and are not available to nested components. You can however change this accordingly to your need.
Let's see below example.
            </p>
            <p>Create a component:</p>
            <pre><code class="language-html">&lt;!-- src/child.html --&gt;
&lt;script props&gt;
  module.exports = {
    prop: props.prop || 'Default prop value'
  }
&lt;/script&gt;
&lt;div&gt;
  Prop in child: {{ prop }}
&lt;/div&gt;</code></pre>
            <p>Create another component that use the first one:</p>
            <pre><code class="language-html">&lt;!-- src/parent.html --&gt;
&lt;script props&gt;
  module.exports = {
    prop: props.prop || 'Default prop value'
  }
&lt;/script&gt;
&lt;div&gt;
  Prop in parent: {{ prop }}
  &lt;x-child&gt;&lt;/x-child&gt;
&lt;/div&gt;</code></pre>
            <p>Use:</p>
            <pre><code class="language-html">&lt;x-parent prop=&quot;My prop&quot;&gt;&lt;/x-parent&gt;</code></pre>
            <p>The output will be:</p>
            <pre><code class="language-html">&lt;div&gt;
  Prop in parent: My prop
  &lt;div&gt;
    Prop in child: Default prop value
  &lt;/div&gt;
&lt;/div&gt;</code></pre>
            <p>
              As you can see
              <code>prop</code>
              in
              <code>x-child</code>
              component are default value and not the one set via
              <code>x-parent</code>
              . Prepend
              <code>aware:</code>
              to the attribute name to pass the props to nested components.
            </p>
            <pre><code class="language-html">&lt;x-parent aware:prop=&quot;My prop&quot;&gt;&lt;/x-parent&gt;</code></pre>
            <p>The output now will be:</p>
            <pre><code class="language-html">&lt;div&gt;
  Prop in parent: My prop
  &lt;div&gt;
    Prop in child: My prop
  &lt;/div&gt;
&lt;/div&gt;</code></pre>
            <h3 id="attributes" tabindex="-1">
              <a class="header-anchor" href="#attributes">#</a>
              Attributes
            </h3>
            <p>
              You can pass any attributes to your components and this will be added to the first node of your component,
or to the node with an attribute named
              <code>attributes</code>
              . If you are familiar with VueJS this is the same as so called
              <a href="https://vuejs.org/guide/components/attrs.html">fallthrough attribute</a>
              , or with Laravel Blade is
              <a href="https://laravel.com/docs/10.x/blade#component-attributes">component-attributes</a>
              .
            </p>
            <p>
              By default
              <code>class</code>
              and
              <code>style</code>
              are merged with existing
              <code>class</code>
              and
              <code>style</code>
              attribute.
All others attributes are override by default.
Only attributes defined in
              <a href="https://github.com/thewebartisan7/posthtml-components/blob/main/src/valid-attributes.js">valid-attributes.js</a>
              or not defined as
              <code>props</code>
              in the
              <code>&lt;script props&gt;</code>
              .
            </p>
            <p>As already seen in basic example:</p>
            <pre><code class="language-html">&lt;!-- src/button.html --&gt;
&lt;script props&gt;
  module.exports = {
    label: props.label || 'A button'
  }
&lt;/script&gt;
&lt;button type=&quot;button&quot; class=&quot;btn&quot;&gt;
  {{ label }}
&lt;/button&gt;</code></pre>
            <p>Use the component:</p>
            <pre><code class="language-html">&lt;!-- src/index.html --&gt;
&lt;x-button type=&quot;submit&quot; class=&quot;btn-primary&quot; label=&quot;My button&quot;&gt;&lt;/x-button&gt;</code></pre>
            <p>Result:</p>
            <pre><code class="language-html">&lt;!-- dist/index.html --&gt;
&lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;My button&lt;/button&gt;</code></pre>
            <p>
              As you may notice the
              <code>label</code>
              attribute is not added as attribute, since it's defined as a
              <code>props</code>
              .
            </p>
            <p>
              As said early,
              <code>class</code>
              and
              <code>style</code>
              are merged by default, if you want to override them, just prepend
              <code>override:</code>
              to the attribute name:
            </p>
            <pre><code class="language-html">&lt;!-- src/index.html --&gt;
&lt;x-button type=&quot;submit&quot; override:class=&quot;btn-custom&quot; label=&quot;My button&quot;&gt;&lt;/x-button&gt;</code></pre>
            <p>Result:</p>
            <pre><code class="language-html">&lt;!-- dist/index.html --&gt;
&lt;button type=&quot;submit&quot; class=&quot;btn-custom&quot;&gt;My button&lt;/button&gt;</code></pre>
            <p>
              If you want to use another node and not the first one, then you can add the attribute
              <code>attributes</code>
              like shown below.
            </p>
            <pre><code class="language-html">&lt;!-- src/my-component.html --&gt;
&lt;div class=&quot;first-node&quot;&gt;
  &lt;div class=&quot;second-node&quot; attributes&gt;
    Hello world!
  &lt;/div&gt;
&lt;/div&gt;</code></pre>
            <p>Use the component:</p>
            <pre><code class="language-html">&lt;!-- src/index.html --&gt;
&lt;x-my-component class=&quot;my-class&quot;&gt;&lt;/x-my-component&gt;</code></pre>
            <p>Result:</p>
            <pre><code class="language-html">&lt;!-- dist/index.html --&gt;
&lt;div class=&quot;first-node&quot;&gt;
  &lt;div class=&quot;second-node my-class&quot;&gt;
    Hello world!
  &lt;/div&gt;
&lt;/div&gt;</code></pre>
            <p>
              You can add custom rules how attributes are parsed, as behind the scene it's used
              <a href="https://github.com/posthtml/posthtml-attrs-parser">posthtml-attrs-parser</a>
              plugin.
            </p>
            <h3 id="advanced-attributes-configurations" tabindex="-1">
              <a class="header-anchor" href="#advanced-attributes-configurations">#</a>
              Advanced attributes configurations
            </h3>
            <p>
              If default configurations for valid attributes are not right for you, then you can configure them as explained below.
            </p>
            <pre><code class="language-js">// index.js
const { readFileSync, writeFileSync } = require('fs')

const posthtml = require('posthtml')
const components = require('posthtml-components')

const options = {
  root: './src',
  
  // Add attributes to specific tag or override defaults
  elementAttributes: {
    DIV: (defaultAttributes) =&gt; {
      /* Add new one */
      defaultAttributes.push('custom-attribute-name');

      return defaultAttributes;
    },
    DIV: (defaultAttributes) =&gt; {
      /* Override all */
      defaultAttributes = ['custom-attribute-name', 'another-one'];

      return defaultAttributes;
    },
  },
  
  // Add attributes to all tags, use '*' as wildcard for attribute name that starts with
  safelistAttributes: [
    'custom-attribute-name',
    'attribute-name-start-with-*'
  ],

  // Remove attributes from all tags that support it
  blacklistAttributes: [
    'role'
  ]
}

posthtml(components(options))
  .process(readFileSync('src/index.html', 'utf8'))
  .then((result) =&gt; writeFileSync('dist/index.html', result.html, 'utf8'))</code></pre>
            <h2 id="examples" tabindex="-1">
              <a class="header-anchor" href="#examples">#</a>
              Examples
            </h2>
            <p>
              You can work with
              <code>&lt;slot&gt;</code>
              and
              <code>&lt;fill&gt;</code>
              or you can create component for each block of your component, and you can also support both of them.
You can find an example of this inside
              <code>docs-src/components/modal</code>
              . Below is a short explanation about the both approach.
            </p>
            <h3 id="using-slots" tabindex="-1">
              <a class="header-anchor" href="#using-slots">#</a>
              Using slots
            </h3>
            <p>
              Let's suppose we want to create a component for
              <a href="https://getbootstrap.com/docs/5.2/components/modal/">bootstrap modal</a>
              . The code required is:
            </p>
            <pre><code class="language-html">&lt;!-- Modal HTML --&gt;
&lt;div class=&quot;modal fade&quot; id=&quot;exampleModal&quot; tabindex=&quot;-1&quot; aria-labelledby=&quot;exampleModalLabel&quot; aria-hidden=&quot;true&quot;&gt;
  &lt;div class=&quot;modal-dialog&quot;&gt;
    &lt;div class=&quot;modal-content&quot;&gt;
      &lt;div class=&quot;modal-header&quot;&gt;
        &lt;h1 class=&quot;modal-title fs-5&quot; id=&quot;exampleModalLabel&quot;&gt;Modal title&lt;/h1&gt;
        &lt;button type=&quot;button&quot; class=&quot;btn-close&quot; data-bs-dismiss=&quot;modal&quot; aria-label=&quot;Close&quot;&gt;&lt;/button&gt;
      &lt;/div&gt;
      &lt;div class=&quot;modal-body&quot;&gt;
        ...
      &lt;/div&gt;
      &lt;div class=&quot;modal-footer&quot;&gt;
        &lt;button type=&quot;button&quot; class=&quot;btn btn-secondary&quot; data-bs-dismiss=&quot;modal&quot;&gt;Close&lt;/button&gt;
        &lt;button type=&quot;button&quot; class=&quot;btn btn-primary&quot;&gt;Save changes&lt;/button&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;</code></pre>
            <p>
              There is almost three block of code: the header, the body and the footer.
So we could create our component with three slot like below:
            </p>
            <pre><code class="language-html">&lt;!-- Modal component --&gt;
&lt;div class=&quot;modal fade&quot; tabindex=&quot;-1&quot; aria-hidden=&quot;true&quot;&gt;
  &lt;div class=&quot;modal-dialog&quot;&gt;
    &lt;div class=&quot;modal-content&quot;&gt;
      &lt;div class=&quot;modal-header&quot;&gt;
        &lt;slot:header&gt;&lt;/slot:header&gt;
        &lt;button type=&quot;button&quot; class=&quot;btn-close&quot; data-bs-dismiss=&quot;modal&quot; aria-label=&quot;Close&quot;&gt;&lt;/button&gt;
      &lt;/div&gt;
      &lt;div class=&quot;modal-body&quot;&gt;
        &lt;slot:body&gt;&lt;/slot:body&gt;
      &lt;/div&gt;
      &lt;div class=&quot;modal-footer&quot;&gt;
        &lt;button type=&quot;button&quot; class=&quot;btn btn-secondary&quot; data-bs-dismiss=&quot;modal&quot;&gt;Close&lt;/button&gt;
        &lt;slot:footer&gt;&lt;/slot:footer&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;</code></pre>
            <p>In this case we can use it like:</p>
            <pre><code class="language-html">&lt;x-modal
  id=&quot;exampleModal&quot;
  aria-labelledby=&quot;exampleModalLabel&quot;
&gt;
  &lt;slot:header&gt;
      &lt;h5 class=&quot;modal-title&quot; id=&quot;exampleModalLabel&quot;&gt;My modal&lt;/h5&gt;
  &lt;/slot:header&gt;

  &lt;slot:body&gt;
      Modal body content goes here...
  &lt;/slot:body&gt;

  &lt;slot:footer close=&quot;false&quot;&gt;
      &lt;button type=&quot;button&quot; class=&quot;btn btn-primary&quot;&gt;Confirm&lt;/button&gt;
  &lt;/slot:footer&gt;
&lt;/x-modal&gt;</code></pre>
            <h3 id="splitting-component-in-small-component" tabindex="-1">
              <a class="header-anchor" href="#splitting-component-in-small-component">#</a>
              Splitting component in small component
            </h3>
            <p>
              Another way is to split the component in small component, my preferred way, because you can pass attributes to each of them.
So we create the component with a main component and then three different small component:
            </p>
            <pre><code class="language-html">&lt;!-- Main modal component --&gt;
&lt;div class=&quot;modal fade&quot; tabindex=&quot;-1&quot; aria-hidden=&quot;true&quot;&gt;
  &lt;div class=&quot;modal-dialog&quot;&gt;
    &lt;div class=&quot;modal-content&quot;&gt;
      &lt;yield&gt;&lt;/yield&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;</code></pre>
            <pre><code class="language-html">&lt;!-- Header modal component --&gt;
&lt;div class=&quot;modal-header&quot;&gt;
  &lt;yield&gt;&lt;/yield&gt;
&lt;/div&gt;</code></pre>
            <pre><code class="language-html">&lt;!-- Body modal component --&gt;
&lt;div class=&quot;modal-body&quot;&gt;
  &lt;yield&gt;&lt;/yield&gt;
&lt;/div&gt;</code></pre>
            <pre><code class="language-html">&lt;!-- Footer modal component --&gt;
&lt;div class=&quot;modal-footer&quot;&gt;
  &lt;yield&gt;&lt;/yield&gt;
&lt;/div&gt;</code></pre>
            <p>And then you can use it like below example:</p>
            <pre><code class="language-html">&lt;x-modal
  id=&quot;exampleModal&quot;
  aria-labelledby=&quot;exampleModalLabel&quot;
&gt;
  &lt;x-modal.header&gt;
    &lt;h5 class=&quot;modal-title&quot; id=&quot;exampleModalLabel&quot;&gt;My modal&lt;/h5&gt;
  &lt;/x-modal.header&gt;

  &lt;x-modal.body&gt;
    Modal body content goes here...
  &lt;/x-modal.body&gt;

  &lt;x-modal.footer&gt;
    &lt;button type=&quot;button&quot; class=&quot;btn btn-primary&quot;&gt;Confirm&lt;/button&gt;
  &lt;/x-modal.footer&gt;
&lt;/x-modal&gt;</code></pre>
            <p>
              As said in this way you can pass attributes to each of them, without defining props.
            </p>
            <h3 id="combine-slots-and-small-component" tabindex="-1">
              <a class="header-anchor" href="#combine-slots-and-small-component">#</a>
              Combine slots and small component
            </h3>
            <p>
              You can also combine both way, and then use them with slots or with small component:
            </p>
            <pre><code class="language-html">&lt;!-- Modal --&gt;
&lt;div
  class=&quot;modal fade&quot;
  tabindex=&quot;-1&quot;
  aria-hidden=&quot;true&quot;
  aria-modal=&quot;true&quot;
  role=&quot;dialog&quot;
&gt;
  &lt;div class=&quot;modal-dialog&quot;&gt;
    &lt;div class=&quot;modal-content&quot;&gt;
      &lt;if condition=&quot;$slots.header?.filled&quot;&gt;
          &lt;x-modal.header&gt;
            &lt;slot:header&gt;&lt;/slot:header&gt;
          &lt;/x-modal.header&gt;
      &lt;/if&gt;
      &lt;if condition=&quot;$slots.body?.filled&quot;&gt;
          &lt;x-modal.body&gt;
              &lt;slot:body&gt;&lt;/slot:body&gt;
          &lt;/x-modal.body&gt;
      &lt;/if&gt;
      &lt;if condition=&quot;$slots.footer?.filled&quot;&gt;
          &lt;x-modal.footer close=&quot;{{ $slots.footer?.props.close }}&quot;&gt;
              &lt;slot:footer&gt;&lt;/slot:footer&gt;
          &lt;/x-modal.footer&gt;
      &lt;/if&gt;
      &lt;yield&gt;&lt;/yield&gt;
    &lt;/div&gt;
  &lt;/div&gt;&lt;!-- /.modal-dialog --&gt;
&lt;/div&gt;&lt;!-- /.modal --&gt;</code></pre>
            <p>
              Now you can use your component with slots or with small components.
As you may notice, by using slots, you already can use also your small components, and so you can also pass props
via
              <code>$slots</code>
              which has all the
              <code>props</code>
              passed via slot, and as well check if slot is filled.
            </p>
            <h2 id="migration" tabindex="-1">
              <a class="header-anchor" href="#migration">#</a>
              Migration
            </h2>
            <p>
              If you are migrating from
              <code>posthtml-extend</code>
              and/or
              <code>posthtml-modules</code>
              please to follow updates here:
              <a href="https://github.com/thewebartisan7/posthtml-components/issues/16">posthtml-components/issues/16</a>
              .
            </p>
          </div>
        </div>
      </div>
    </main>
    <footer class="footer mt-auto py-3">
      <div class="container-lg">
        <div class="text-muted text-center">
          Handcrafted with
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-heart-fill d-inline mx-1 text-danger" viewbox="0 0 16 16">
            <path fill-rule="evenodd" d="M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z"></path>
          </svg>
          and
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-cup-hot-fill d-inline mx-1 text-warning" viewbox="0 0 16 16">
            <path fill-rule="evenodd" d="M.5 6a.5.5 0 0 0-.488.608l1.652 7.434A2.5 2.5 0 0 0 4.104 16h5.792a2.5 2.5 0 0 0 2.44-1.958l.131-.59a3 3 0 0 0 1.3-5.854l.221-.99A.5.5 0 0 0 13.5 6H.5ZM13 12.5a2.01 2.01 0 0 1-.316-.025l.867-3.898A2.001 2.001 0 0 1 13 12.5Z"></path>
            <path d="m4.4.8-.003.004-.014.019a4.167 4.167 0 0 0-.204.31 2.327 2.327 0 0 0-.141.267c-.026.06-.034.092-.037.103v.004a.593.593 0 0 0 .091.248c.075.133.178.272.308.445l.01.012c.118.158.26.347.37.543.112.2.22.455.22.745 0 .188-.065.368-.119.494a3.31 3.31 0 0 1-.202.388 5.444 5.444 0 0 1-.253.382l-.018.025-.005.008-.002.002A.5.5 0 0 1 3.6 4.2l.003-.004.014-.019a4.149 4.149 0 0 0 .204-.31 2.06 2.06 0 0 0 .141-.267c.026-.06.034-.092.037-.103a.593.593 0 0 0-.09-.252A4.334 4.334 0 0 0 3.6 2.8l-.01-.012a5.099 5.099 0 0 1-.37-.543A1.53 1.53 0 0 1 3 1.5c0-.188.065-.368.119-.494.059-.138.134-.274.202-.388a5.446 5.446 0 0 1 .253-.382l.025-.035A.5.5 0 0 1 4.4.8Zm3 0-.003.004-.014.019a4.167 4.167 0 0 0-.204.31 2.327 2.327 0 0 0-.141.267c-.026.06-.034.092-.037.103v.004a.593.593 0 0 0 .091.248c.075.133.178.272.308.445l.01.012c.118.158.26.347.37.543.112.2.22.455.22.745 0 .188-.065.368-.119.494a3.31 3.31 0 0 1-.202.388 5.444 5.444 0 0 1-.253.382l-.018.025-.005.008-.002.002A.5.5 0 0 1 6.6 4.2l.003-.004.014-.019a4.149 4.149 0 0 0 .204-.31 2.06 2.06 0 0 0 .141-.267c.026-.06.034-.092.037-.103a.593.593 0 0 0-.09-.252A4.334 4.334 0 0 0 6.6 2.8l-.01-.012a5.099 5.099 0 0 1-.37-.543A1.53 1.53 0 0 1 6 1.5c0-.188.065-.368.119-.494.059-.138.134-.274.202-.388a5.446 5.446 0 0 1 .253-.382l.025-.035A.5.5 0 0 1 7.4.8Zm3 0-.003.004-.014.019a4.077 4.077 0 0 0-.204.31 2.337 2.337 0 0 0-.141.267c-.026.06-.034.092-.037.103v.004a.593.593 0 0 0 .091.248c.075.133.178.272.308.445l.01.012c.118.158.26.347.37.543.112.2.22.455.22.745 0 .188-.065.368-.119.494a3.198 3.198 0 0 1-.202.388 5.385 5.385 0 0 1-.252.382l-.019.025-.005.008-.002.002A.5.5 0 0 1 9.6 4.2l.003-.004.014-.019a4.149 4.149 0 0 0 .204-.31 2.06 2.06 0 0 0 .141-.267c.026-.06.034-.092.037-.103a.593.593 0 0 0-.09-.252A4.334 4.334 0 0 0 9.6 2.8l-.01-.012a5.099 5.099 0 0 1-.37-.543A1.53 1.53 0 0 1 9 1.5c0-.188.065-.368.119-.494.059-.138.134-.274.202-.388a5.446 5.446 0 0 1 .253-.382l.025-.035A.5.5 0 0 1 10.4.8Z"></path>
          </svg>
          in Swiss Alp by
          <a href="https://github.com/thewebartisan7" class="text-muted text-decoration-none fst-italic" target="_blank">@thewebartisan7</a>
        </div>
      </div>
    </footer>
    <div class="modal fade" id="modalWithComponents" data-bs-backdrop="true" data-bs-keyboard="true" aria-labelledby="modalWithComponents" tabindex="-1" aria-hidden="true" aria-modal="true" role="dialog">
      <div class="modal-dialog modal-lg modal-fullscreen-lg-down modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="modalWithComponentsLabel">Changelog</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <!-- /.modal-header -->
          <div class="modal-body">
            <h2 id="1.0.0-(2023-03-14)" tabindex="-1">
              <a class="header-anchor" href="#1.0.0-(2023-03-14)">#</a>
              1.0.0 (2023-03-14)
            </h2>
            <p>First Stable Release</p>
            <ul>
              <li>Fix error messages</li>
            </ul>
            <h2 id="1.0.0-rc.2-(2023-03-10)" tabindex="-1">
              <a class="header-anchor" href="#1.0.0-rc.2-(2023-03-10)">#</a>
              1.0.0-RC.2 (2023-03-10)
            </h2>
            <p>Second Release Candidate</p>
            <ul>
              <li>Fix issue with custom valid attributes</li>
              <li>Added test for override options of valid attributes</li>
            </ul>
            <h2 id="1.0.0-rc.1-(2023-03-08)" tabindex="-1">
              <a class="header-anchor" href="#1.0.0-rc.1-(2023-03-08)">#</a>
              1.0.0-RC.1 (2023-03-08)
            </h2>
            <p>First Release Candidate</p>
            <ul>
              <li>Prevent attributes used for passing props from being added to first node</li>
              <li>Updated docs</li>
            </ul>
            <h2 id="1.0.0-beta.16-(2022-11-06)" tabindex="-1">
              <a class="header-anchor" href="#1.0.0-beta.16-(2022-11-06)">#</a>
              1.0.0-beta.16 (2022-11-06)
            </h2>
            <ul>
              <li>Fix aware props propagation</li>
              <li>
                Add utility
                <code>isEnabled</code>
                to check if a prop is either
                <code>&lt;div myprop&gt;</code>
                or
                <code>&lt;div myprop=&quot;true&quot;&gt;</code>
              </li>
            </ul>
            <h2 id="1.0.0-beta.15-(2022-11-04)" tabindex="-1">
              <a class="header-anchor" href="#1.0.0-beta.15-(2022-11-04)">#</a>
              1.0.0-beta.15 (2022-11-04)
            </h2>
            <ul>
              <li>Fix aware props must be available only to nested components</li>
            </ul>
            <h2 id="1.0.0-beta.14-(2022-11-03)" tabindex="-1">
              <a class="header-anchor" href="#1.0.0-beta.14-(2022-11-03)">#</a>
              1.0.0-beta.14 (2022-11-03)
            </h2>
            <ul>
              <li>Fix node attributes not string</li>
            </ul>
            <h2 id="1.0.0-beta.13-(2022-11-03)" tabindex="-1">
              <a class="header-anchor" href="#1.0.0-beta.13-(2022-11-03)">#</a>
              1.0.0-beta.13 (2022-11-03)
            </h2>
            <ul>
              <li>Remove attributes that have &quot;undefined&quot; or &quot;null&quot; value</li>
            </ul>
            <h2 id="1.0.0-beta.12-(2022-10-31)" tabindex="-1">
              <a class="header-anchor" href="#1.0.0-beta.12-(2022-10-31)">#</a>
              1.0.0-beta.12 (2022-10-31)
            </h2>
            <ul>
              <li>Added more utilities</li>
              <li></li>
            </ul>
            <h2 id="1.0.0-beta.11-(2022-10-30)" tabindex="-1">
              <a class="header-anchor" href="#1.0.0-beta.11-(2022-10-30)">#</a>
              1.0.0-beta.11 (2022-10-30)
            </h2>
            <ul>
              <li>
                Add new options to pass utilities methods to script like lodash
                <code>mergeWith</code>
                and
                <code>template</code>
              </li>
              <li>
                Allow to create a separated script file instead of
                <code>&lt;script props&gt;</code>
                inside component file
              </li>
              <li>
                Add options for set props object name passed to
                <code>&lt;script props&gt;</code>
                , props object name of
                <code>$slots</code>
                and props attribute name.
              </li>
            </ul>
            <h2 id="1.0.0-beta.10-(2022-10-28)" tabindex="-1">
              <a class="header-anchor" href="#1.0.0-beta.10-(2022-10-28)">#</a>
              1.0.0-beta.10 (2022-10-28)
            </h2>
            <ul>
              <li>
                Remove
                <code>computed:</code>
                and
                <code>merge:</code>
                by keeping this logic inside
                <code>&lt;script props&gt;</code>
                .
              </li>
            </ul>
            <h2 id="1.0.0-beta.9-(2022-10-26)" tabindex="-1">
              <a class="header-anchor" href="#1.0.0-beta.9-(2022-10-26)">#</a>
              1.0.0-beta.9 (2022-10-26)
            </h2>
            <ul>
              <li>Fix override class and style</li>
            </ul>
            <h2 id="1.0.0-beta.8-(2022-10-25)" tabindex="-1">
              <a class="header-anchor" href="#1.0.0-beta.8-(2022-10-25)">#</a>
              1.0.0-beta.8 (2022-10-25)
            </h2>
            <ul>
              <li>Fix merge props with global</li>
            </ul>
            <h2 id="1.0.0-beta.7-(2022-10-25)" tabindex="-1">
              <a class="header-anchor" href="#1.0.0-beta.7-(2022-10-25)">#</a>
              1.0.0-beta.7 (2022-10-25)
            </h2>
            <ul>
              <li>Replace underscore with lodash</li>
              <li>
                Replace deepmerge with lodash method
                <code>mergeWith</code>
              </li>
              <li>
                Added merge customizer via options for lodash method
                <code>mergeWith</code>
              </li>
            </ul>
            <h2 id="1.0.0-beta.6-(2022-10-24)" tabindex="-1">
              <a class="header-anchor" href="#1.0.0-beta.6-(2022-10-24)">#</a>
              1.0.0-beta.6 (2022-10-24)
            </h2>
            <ul>
              <li>
                Fix
                <code>$slots</code>
                context
              </li>
            </ul>
            <h2 id="1.0.0-beta.5-(2022-10-24)" tabindex="-1">
              <a class="header-anchor" href="#1.0.0-beta.5-(2022-10-24)">#</a>
              1.0.0-beta.5 (2022-10-24)
            </h2>
            <ul>
              <li>100% coverage test</li>
              <li>Fix components with same slot name in the same node</li>
            </ul>
            <h2 id="1.0.0-beta.4-(2022-10-23)" tabindex="-1">
              <a class="header-anchor" href="#1.0.0-beta.4-(2022-10-23)">#</a>
              1.0.0-beta.4 (2022-10-23)
            </h2>
            <ul>
              <li>Refactor with underscore.js</li>
              <li>Optionally set attributes to any nodes not only the first one</li>
              <li>Added more docs</li>
            </ul>
            <h2 id="1.0.0-beta.3-(2022-10-21)" tabindex="-1">
              <a class="header-anchor" href="#1.0.0-beta.3-(2022-10-21)">#</a>
              1.0.0-beta.3 (2022-10-21)
            </h2>
            <ul>
              <li>Apply additional plugins to tree</li>
            </ul>
            <h2 id="1.0.0-beta.2-(2022-10-20)" tabindex="-1">
              <a class="header-anchor" href="#1.0.0-beta.2-(2022-10-20)">#</a>
              1.0.0-beta.2 (2022-10-20)
            </h2>
            <ul>
              <li>First beta release</li>
            </ul>
          </div>
          <!-- /.modal-body -->
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          </div>
          <!-- /.modal-footer -->
        </div>
        <!-- /.modal-content -->
      </div>
      <!-- /.modal-dialog -->
    </div>
    <!-- /.modal -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Move generated TOC -->
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const destination = document.getElementById('collapse-toc');
        const source = document.getElementById('header-toc');

        if (destination && source) {
          destination.appendChild(source);
        }
      })
    </script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.6.0/build/highlight.min.js"></script>
    <script>
    document.addEventListener("DOMContentLoaded", function () {
      const code = document.querySelectorAll("pre code");
      if (code) {
        code.forEach((c) => {
          if (c.closest('pre')) {
            c.closest('pre').classList.add('doc-shadow', 'rounded-3');
          }
        });
        hljs.highlightAll();
      }

      const table = document.querySelectorAll("table");
      if (table) {
        table.forEach(t => {
          t.classList.add('table');
        })
      }
    });
  </script>
  </body>
</html>
